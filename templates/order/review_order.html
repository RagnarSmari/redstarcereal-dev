{% extends 'base.html' %}

{% block content %}
     <div style="margin-left: 15%; margin-right: 15%">
    <div class="position-relative m-4">
  <div class="progress" style="height: 10px; background-color: #bfbfbf;">
    <div class="progress-bar progress-bar-striped progress-bar-animated bg-success" role="progressbar" style="width: 100%;" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100"></div>
  <<button type="button" onclick="window.location.href='/orders/contact'"  class="position-absolute top-0 start-0 translate-middle btn btn-sm btn-success rounded-pill" style="width: 2.5rem; height:2.5rem; margin-top: 4px;">1</button>
  <button type="button" onclick="window.location.href='/orders/payment'" class="position-absolute top-0 start-50 translate-middle btn btn-sm btn-success rounded-pill" style="width: 2.5rem; height:2.5rem; margin-top: 4px">2</button>
  <button type="button" onclick="window.location.href='/orders/review'" class="position-absolute top-0 start-100 translate-middle btn btn-sm btn-success rounded-pill" style="width: 2.5rem; height:2.5rem; margin-top: 4px">3</button>
  </div>
 </div>
  </div>
               <div class="d-flex justify-content-between" style="margin-left: 13.5%; margin-right: 13.5%"><p>Contact Information</p><p>Payment Information</p><p>Review Order</p></div>

    <div style="margin-left: 15%; margin-right: 15%">
    <h1 style="text-align: center">Checkout Information</h1>
    <h3 style="text-align: center">Let's finish up!</h3>

    <div class="container">
        <h2 style="text-align: center">Is This Correct?</h2>

    <table class="table">
  <thead>
    <tr>
        <th scope="col"  class="w-25">#</th>
      <th scope="col">Shipping Information</th>
    </tr>
  </thead>
  <tbody>
    <tr>
        <td>Name</td>
        <td>{{ customer.first_name }} {{ customer.last_name }}</td>
    </tr>
      <tr>
      <td>Email</td>
          <td>{{ customer.email }}</td>


    </tr>
      <tr>
      <td>Country</td>
          <td>{{ customer.country.name }}</td>
    </tr>
      <tr>
        <td>City</td>
          <td>{{ customer.city }}</td>
    </tr>
      <tr>
        <td>Shipping Address</td>
          <td>{{ customer.street }} {{ customer.house_number }}</td>
    </tr>
        <tr>
        <td>Postal Code</td>
            <td>{{ customer.postal_code }}</td>
    </tr>
  </tbody>
</table>



    <table class="table">
  <thead>
    <tr>
        <th scope="col"  class="w-25">#</th>
      <th scope="col">Payment Information</th>
    </tr>
  </thead>
  <tbody>
    <tr>
        <td>Card holder</td>
        <td>{{ payment.card_holder }}</td>
    </tr>
      <tr>
      <td>Credit Cart Number</td>
          <td>{{ payment.cc_number }}</td>
    </tr>
      <tr>
        <td>Expiration Date mm/yy</td>
          <td>{{ payment.cc_expiry }}}</td>
    </tr>
      <tr>
        <td>CVC</td>
          <td>{{ payment.cc_code }}</td>
    </tr>
  </tbody>
</table>


<table class="table table-responsive w-100">
          <thead>
            <tr>
              <th scope="col">Item Image</th>
                <th scope="col">Item Name</th>
              <th scope="col">Quantity</th>
              <th scope="col">Price</th>
            </tr>
          </thead>
          <tbody>
              {% for item in cart %}
            <tr id="product{{ item.product.id }}">
            <td><img src="{{ item.product.first_image }}" style="width: 150px"/></td>
              <td>{{ item.product.name }}</td>
                <td>{{ item.amount }}</td>
              <td id="current-item-price{{ item.product.id }}">{{ item.price }} isk</td>
            </tr>
            <tr>
               {% endfor %}
            <tr>
                 <td></td>
              <td></td>
              <td> <p style="font-weight: bold;">Total</p></td>
              <td id="cart-total">{{ total }} isk</td>
            </tr>
          </tbody>
        </table>
            <button type="button" class="btn btn-block btn-success h-50 w-100" onclick="confirmOrder()">Confirm order</button>
    </div>
    </div>
{% endblock content %}